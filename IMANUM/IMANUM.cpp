// Bin vÃ  Bon vá»«a há»c vá» cÃ¡c con sá»‘ vÃ  hai cáº­u bÃ© ráº¥t thÃ­ch thÃº vá»›i trÃ² chÆ¡i liÃªn quan Ä‘áº¿n cÃ¡c sá»‘. Bá»™
// Ä‘á»“ chÆ¡i cá»§a Bin vÃ  Bon lÃ  má»™t bá»™ áº£nh mÃ  má»—i bá»©c áº£nh lÃ  má»™t con sá»‘ Ä‘á»ƒ Bin vÃ  Bon cÃ³ thá»ƒ bá»‘c
// má»™t bá»©c áº£nh báº¥t kÃ¬ vÃ  táº­p Ä‘á»c sá»‘ trÃªn cÃ¡c bá»©c áº£nh. Cá»¥ thá»ƒ, bá»™ Ä‘á»“ chÆ¡i cá»§a hai cáº­u bÃ© gá»“m ğ‘1 hÃ¬nh
// áº£nh mang giÃ¡ trá»‹ 1, ğ‘2 hÃ¬nh áº£nh mang giÃ¡ trá»‹ 2,â€¦, ğ‘ğ‘› hÃ¬nh áº£nh mang giÃ¡ trá»‹ ğ‘›. Sau khi chÆ¡i xong
// bá»™ tranh áº£nh vÃ  cÃ¡c sá»‘, Bin vÃ  Bon muá»‘n sáº¯p xáº¿p gá»n gÃ ng táº¥t cáº£ cÃ¡c bá»©c áº£nh vÃ o há»™p Ä‘á»“ chÆ¡i.
// Má»—i cáº­u bÃ© cÃ³ má»™t cÃ¡ch xáº¿p gá»n gÃ ng riÃªng vÃ  trong Ä‘Ã³:
// ï‚· CÃ¡ch xáº¿p cá»§a Bin: chá»n má»™t cáº·p (ğ‘™, ğ‘Ÿ) mÃ  1 â‰¤ ğ‘™ â‰¤ ğ‘Ÿ â‰¤ ğ‘› sau Ä‘Ã³ thá»±c hiá»‡n xáº¿p cÃ¡c bá»©c áº£nh
// cÃ³ giÃ¡ trá»‹ ğ‘™,ğ‘™ + 1, â€¦ , ğ‘Ÿ vÃ o há»™p Ä‘á»“ chÆ¡i (má»—i giÃ¡ trá»‹ ğ‘¥ âˆˆ [ğ‘™, ğ‘Ÿ] chá»‰ láº¥y chÃ­nh xÃ¡c 1 bá»©c áº£nh
// mang giÃ¡ trá»‹ ğ‘¥).
// ï‚· CÃ¡ch xáº¿p cá»§a Bon: chá»n má»™t con sá»‘ mang giÃ¡ trá»‹ ğ‘– (1 â‰¤ ğ‘– â‰¤ ğ‘›) vÃ  má»™t giÃ¡ trá»‹ ğ‘¥ (ğ‘¥ â‰¥ 1)
// sau Ä‘Ã³ xáº¿p ğ‘¥ bá»©c áº£nh mang con sá»‘ ğ‘– vÃ o há»™p Ä‘á»“ chÆ¡i. Bon luÃ´n Ä‘áº£m báº£o ráº±ng lÃºc nÃ y sá»‘
// lÆ°á»£ng bá»©c áº£nh mang con sá»‘ ğ‘– khÃ´ng nhá» hÆ¡n giÃ¡ trá»‹ ğ‘¥ mÃ  cáº­u bÃ© chá»n.
// Bin vÃ  Bon ráº¥t yÃªu thÆ°Æ¡ng nhau nÃªn hai cáº­u bÃ© khÃ´ng bao giá» tranh giÃ nh Ä‘á»“ chÆ¡i cá»§a nhau cÅ©ng
// nhÆ° viá»‡c tranh nhau Ä‘á»ƒ xáº¿p Ä‘á»“ chÆ¡i vÃ o há»™p, do Ä‘Ã³ cáº£ Bin vÃ  Bon sáº½ xáº¿p Ä‘á»“ chÆ¡i vÃ o há»™p theo
// cÃ¡ch: má»—i lÆ°á»£t chá»‰ cÃ³ Bin hoáº·c Bon thá»±c hiá»‡n xáº¿p Ä‘á»“ chÆ¡i theo cÃ¡ch gá»n gÃ ng vÃ o há»™p. Táº¥t nhiÃªn
// lÃ  Bin vÃ  Bon cÅ©ng muá»‘n xáº¿p Ä‘á»“ chÆ¡i vÃ o há»™p má»™t cÃ¡ch nhanh nháº¥t cÃ³ thá»ƒ nhÆ°ng láº¡i khÃ´ng biáº¿t
// tÃ­nh toÃ¡n ra lÃ m sao? Báº¡n lÃ  má»™t ngÆ°á»i anh cá»§a Bin vÃ  Bon, báº¡n hÃ£y giÃºp hai cáº­u bÃ© Ä‘Ã¡ng yÃªu nÃ y
// xáº¿p toÃ n bá»™ cÃ¡c bá»©c áº£nh vÃ o há»™p Ä‘á»“ chÆ¡i sau Ã­t lÆ°á»£t xáº¿p nháº¥t cÃ³ thá»ƒ.
// Input:
// ï‚· DÃ²ng Ä‘áº§u chá»©a má»™t sá»‘ nguyÃªn dÆ°Æ¡ng ğ‘› (ğ‘› â‰¤ 5000).
// ï‚· DÃ²ng thá»© hai chá»©a ğ‘› sá»‘ nguyÃªn khÃ´ng Ã¢m ğ‘1, ğ‘2, â€¦ , ğ‘ğ‘›
// (0 â‰¤ ğ‘ğ‘– â‰¤ 109).
// Output: In ra sá»‘ lÆ°á»£t Ã­t nháº¥t cÃ³ thá»ƒ Ä‘á»ƒ cÃ³ thá»ƒ Ä‘á»ƒ xáº¿p gá»n gÃ ng toÃ n bá»™ cÃ¡c bá»©c áº£nh vÃ o há»™p Ä‘á»“
// chÆ¡i.
#include <bits/stdc++.h>
using namespace std;
const int nmax = 1e5 + 5;
int n, a[nmax];
int get(int l, int r)
{
    if (l > r)
        return 0;
    int minn = a[l];
    for (int i = l; i <= r; i++)
        minn = min(minn, a[i]);
    for (int i = l; i <= r; i++)
        a[i] -= minn;
    int left = l;
    int res = 0;
    for (int right = l; right <= r + 1; right++)
        if (right == r + 1 || a[right] == 0)
        {
            res += get(left, right - 1);
            left = right + 1;
        }
    return min(r - l + 1, res + minn);
}
int main()
{
    ios::sync_with_stdio(0);
    cin.tie(0);
    cout.tie(0);
    cin >> n;
    for (int i = 1; i <= n; i++)
        cin >> a[i];
    cout << get(1, n);
}
